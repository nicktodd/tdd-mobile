# Cuckoo Mocking Framework Demo

This folder contains example test files that demonstrate using the **Cuckoo** mocking framework with **Nimble** assertions.

## What is Cuckoo?

Cuckoo is a mocking framework for Swift that provides:
- Automatic mock generation from protocols and classes
- Stubbing method return values
- Verifying method calls
- More concise syntax compared to manual mocks

## What is Nimble?

Nimble is a matcher framework that provides more expressive assertions than XCTest, such as:
- `expect(value).to(equal(expected))`
- `expect(array).to(contain(item))`
- `expect(mock).to(haveReceived("methodName"))`

## Files in This Demo

- **SpeakingClockTestCuckoo.swift** - Example using Cuckoo for mocking
- **SpeakingClockTestCuckooNimble.swift** - Example using both Cuckoo and Nimble
- **NimbleAssertionsDemo.swift** - Demonstrates various Nimble assertion styles
- **GeneratedMocks.swift** - Manual mock implementations (normally auto-generated by Cuckoo)

## Why These Are Separate

These examples require additional setup:
1. Add Cuckoo and Nimble dependencies to `Package.swift`
2. Set up Cuckoo's code generator (Run Script phase in Xcode)
3. Generate mock files from source classes

For learning TDD basics, **manual mocks** (as shown in `SpeakingClockTests.swift`) are simpler and don't require external dependencies.

## Setting Up Cuckoo (Optional)

If you want to use these examples:

1. Add dependencies to `Package.swift`:
```swift
dependencies: [
    .package(url: "https://github.com/Brightify/Cuckoo.git", from: "1.6.0"),
    .package(url: "https://github.com/Quick/Nimble.git", from: "13.0.0")
]
```

2. Add to test target dependencies:
```swift
.testTarget(
    name: "SpeakingClockTests",
    dependencies: ["SpeakingClock", "Cuckoo", "Nimble"]
)
```

3. Use Cuckoo generator to create mocks:
```bash
# Install generator
brew install cuckoo

# Generate mocks
cuckoo generate --testable SpeakingClock \
    --output Tests/SpeakingClockTests/GeneratedMocks.swift \
    Sources/SpeakingClock/Clock.swift \
    Sources/SpeakingClock/SpeechSynthesizer.swift \
    Sources/SpeakingClock/TimeToTextConverter.swift
```

## Recommended Approach

For most projects, especially when learning TDD:
- **Start with manual mocks** - Simple, no dependencies, full control
- **Use Cuckoo when** - You have many protocols to mock, need advanced verification

See the main `SpeakingClockTests.swift` file for a working example with manual mocks.
